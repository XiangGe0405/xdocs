---
# sidebar_position: 4
authors: [wengtx]
tags: [mssql, SQL Server,日志,日志收缩]
---

# SqlServer数据库单机模式下的日志收缩

``` SQL
USE RJOA
GO
ALTER DATABASE RJOA SET RECOVERY SIMPLE WITH NO_WAIT
GO
--设为简单模式
ALTER DATABASE RJOA SET RECOVERY SIMPLE 
GO

USE RJOA
GO
DBCC SHRINKFILE (N'RJOA_log', 1, TRUNCATEONLY) 

GO
USE RJOA
GO
ALTER DATABASE RJOA SET RECOVERY FULL WITH NO_WAIT
GO
--还原为完全模式
ALTER DATABASE RJOA SET RECOVERY FULL 
GO

```
